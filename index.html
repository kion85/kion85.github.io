<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>основа - kion85.github.io</title>
    <style>
        /*
        ================================================================================
        CSS Стили
        ================================================================================
        */

        /* Общие переменные для тем */
        :root {
            --background-color: #f0f2f5; /* Светлая тема по умолчанию */
            --text-color: #333;
            --header-bg-color: #007bff;
            --header-text-color: #fff;
            --card-bg-color: #fff;
            --card-border-color: #ddd;
            --button-bg-color: #007bff;
            --button-text-color: #fff;
            --link-color: #0056b3;
            --focus-outline-color: #0056b3;
        }

        /* Тёмная тема */
        body.theme-dark {
            --background-color: #2c2c2c;
            --text-color: #f0f0f0;
            --header-bg-color: #1a1a1a;
            --header-text-color: #eee;
            --card-bg-color: #3a3a3a;
            --card-border-color: #555;
            --button-bg-color: #0056b3;
            --button-text-color: #eee;
            --link-color: #87ceeb;
            --focus-outline-color: #87ceeb;
        }

        /* Красная тема */
        body.theme-red {
            --background-color: #ffe6e6;
            --text-color: #8b0000;
            --header-bg-color: #cc0000;
            --header-text-color: #fff;
            --card-bg-color: #fff0f0;
            --card-border-color: #ffcccc;
            --button-bg-color: #cc0000;
            --button-text-color: #fff;
            --link-color: #800000;
            --focus-outline-color: #800000;
        }

        /* Общие стили для body */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Общие стили для контейнера */
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        /* Стили для карточек информации */
        .card {
            background-color: var(--card-bg-color);
            border: 1px solid var(--card-border-color);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .card h2 {
            color: var(--header-bg-color);
            margin-top: 0;
            border-bottom: 2px solid var(--header-bg-color);
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        .card ol, .card ul {
            padding-left: 20px;
        }

        /* Стили для заголовка страницы */
        header {
            background-color: var(--header-bg-color);
            color: var(--header-text-color);
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
        }

        /* Стили для кнопок */
        button {
            background-color: var(--button-bg-color);
            color: var(--button-text-color);
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        button:hover {
            background-color: var(--link-color);
            transform: translateY(-2px);
        }

        button:focus {
            outline: 2px solid var(--focus-outline-color);
            outline-offset: 2px;
        }

        /* Стили для форм ввода */
        input[type="file"] {
            display: block;
            margin-top: 10px;
            margin-bottom: 10px;
            padding: 8px;
            border: 1px solid var(--card-border-color);
            border-radius: 5px;
            background-color: var(--card-bg-color);
            color: var(--text-color);
        }

        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
        }

        /* Стили для медиа-плеера */
        #audioPlayer {
            width: 100%;
            margin-top: 15px;
            background-color: var(--card-bg-color);
            border-radius: 5px;
        }

        /* Стили для списка репозиториев (если решите отображать) */
        #github-repos ul {
            list-style: none;
            padding: 0;
        }

        #github-repos li {
            background-color: rgba(0,0,0,0.05); /* Легкий фон для списка */
            margin-bottom: 5px;
            padding: 8px;
            border-radius: 4px;
            border-left: 3px solid var(--button-bg-color);
        }

        #github-repos li:nth-child(even) {
            background-color: rgba(0,0,0,0.02);
        }

        /* Футер */
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            background-color: var(--header-bg-color);
            color: var(--header-text-color);
            box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Адаптивность */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr; /* Одна колонка на узких экранах */
                padding: 10px;
            }
            header h1 {
                font-size: 2em;
            }
            .card {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Моя Интерактивная Страница kion85.github.io</h1>
        <p>Привет! Добро пожаловать на мою страницу.</p>
        <div class="theme-switchers">
            <button id="lightThemeBtn">Светлая тема</button>
            <button id="darkThemeBtn">Тёмная тема</button>
            <button id="redThemeBtn">Красная тема</button>
        </div>
    </header>

    <main class="container">
        <!-- Информация о браузере и системе -->
        <section class="card" id="browser-info">
            <h2>Информация о браузере и системе</h2>
            <p><strong>Имя браузера:</strong> <span id="browserName"></span></p>
            <p><strong>Версия браузера:</strong> <span id="browserVersion"></span></p>
            <p><strong>Операционная система:</strong> <span id="os"></span></p>
            <p><strong>Язык браузера:</strong> <span id="language"></span></p>
            <p><strong>Текущее время и дата (локальное):</strong> <span id="localDateTime"></span></p>
        </section>

        <!-- Информация о GitHub -->
        <section class="card" id="github-info">
            <h2>Информация о GitHub (kion85)</h2>
            <p><strong>Количество репозиториев:</strong> <b id="repoCount">Загрузка...</b></p>
            <div id="github-repos" style="display: none;">
                <h3>Названия репозиториев:</h3>
                <ul>
                    <!-- Репозитории будут добавлены сюда -->
                </ul>
            </div>
            <button id="toggleReposBtn" style="display: none;">Показать репозитории</button>
        </section>

        <!-- Любимые языки и Linux -->
        <section class="card" id="favorites-info">
            <h2>Мои предпочтения: C++, C и Linux</h2>
            <p>Я очень ценю языки программирования C++ и C за их мощь, производительность и возможность низкоуровневого контроля. Они являются основой для множества высокопроизводительных приложений, системного программирования и встраиваемых систем.</p>
            <p>Операционная система Linux — это не просто инструмент, а целая философия. Её открытость, гибкость, надежность и обширная экосистема делают её незаменимой для разработки, системного администрирования и повседневного использования. У меня всегда есть несколько дистрибутивов, и я продолжаю исследовать её возможности.</p>
            Дополнительно:
            <ul>
                <li><strong>C++:</strong> Шаблоны, STL, многопоточность, оптимизация.</li>
                <li><strong>C:</strong> Микроконтроллеры, драйверы, системные вызовы.</li>
                <li><strong>Linux:</strong> Bash, Docker, системные утилиты, разработка под FOSS.</li>
            </ul>
        </section>

        <!-- Загрузка медиа и управление -->
        <section class="card" id="media-upload-section">
            <h2>Загрузить свои медиа</h2>
            <div>
                <label for="wallpaperUpload">Загрузить фоновое изображение:</label>
                <input type="file" id="wallpaperUpload" accept="image/*">
                <p><i>Выбранное изображение станет фоном страницы.</i></p>
            </div>
            <div>
                <label for="audioUpload">Загрузить аудиофайл:</label>
                <input type="file" id="audioUpload" accept="audio/*">
                <audio id="audioPlayer" controls style="display: none;"></audio>
                <p><i>Местная музыка для души!</i></p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 kion85. Все права не защищены, используйте свободно.</p>
        <p>Создано с любовью с использованием HTML, CSS и JavaScript.</p>
    </footer>

    <script>
        /*
        ================================================================================
        JavaScript Скрипты
        ================================================================================
        */

        document.addEventListener('DOMContentLoaded', () => {
            // ============================================================================
            // 1. Информация о браузере и системе
            // ============================================================================
            function getBrowserInfo() {
                const userAgent = navigator.userAgent;
                let browserName = "Неизвестно";
                let browserVersion = "Неизвестно";
                let os = "Неизвестно";

                // Определение браузера
                if (userAgent.match(/chrome|chromium|crios/i)) {
                    browserName = "Google Chrome";
                    browserVersion = userAgent.match(/(chrome|chromium|crios)\/(\d+\.\d+\.\d+\.\d+)/i) ? userAgent.match(/(chrome|chromium|crios)\/(\d+\.\d+\.\d+\.\d+)/i)[2] : "N/A";
                } else if (userAgent.match(/firefox|fxios/i)) {
                    browserName = "Mozilla Firefox";
                    browserVersion = userAgent.match(/(firefox|fxios)\/(\d+\.\d+)/i) ? userAgent.match(/(firefox|fxios)\/(\d+\.\d+)/i)[2] : "N/A";
                } else if (userAgent.match(/safari/i)) {
                    browserName = "Apple Safari";
                    browserVersion = userAgent.match(/version\/(\d+\.\d+)\s.*safari/i) ? userAgent.match(/version\/(\d+\.\d+)\s.*safari/i)[1] : "N/A";
                } else if (userAgent.match(/opera|opr\//i)) {
                    browserName = "Opera";
                    browserVersion = userAgent.match(/(opera|opr)\/(\d+\.\d+)/i) ? userAgent.match(/(opera|opr)\/(\d+\.\d+)/i)[2] : "N/A";
                } else if (userAgent.match(/edg/i)) {
                    browserName = "Microsoft Edge";
                    browserVersion = userAgent.match(/edg\/(\d+\.\d+\.\d+\.\d+)/i) ? userAgent.match(/edg\/(\d+\.\d+\.\d+\.\d+)/i)[1] : "N/A";
                } else if (userAgent.match(/msie|trident/i)) {
                    browserName = "Internet Explorer";
                    browserVersion = userAgent.match(/(msie|rv:)(\d+\.\d+)/i) ? userAgent.match(/(msie|rv:)(\d+\.\d+)/i)[2] : "N/A";
                }

                // Определение ОС
                if (navigator.platform.includes("Win")) {
                    os = "Windows";
                } else if (navigator.platform.includes("Mac")) {
                    os = "macOS";
                } else if (navigator.platform.includes("Linux")) { // Более надежно, чем "Linux" в userAgent для десктопа
                    os = "Linux";
                } else if (navigator.userAgent.includes("Android")) {
                    os = "Android";
                } else if (navigator.userAgent.includes("iOS")) {
                    os = "iOS";
                } else {
                    os = navigator.platform || "Неизвестно";
                }

                document.getElementById('browserName').textContent = browserName;
                document.getElementById('browserVersion').textContent = browserVersion;
                document.getElementById('os').textContent = os;
                document.getElementById('language').textContent = navigator.language || 'Неизвестно';
                document.getElementById('localDateTime').textContent = new Date().toLocaleString();
            }

            getBrowserInfo();

            // Обновление времени каждую секунду
            setInterval(() => {
                document.getElementById('localDateTime').textContent = new Date().toLocaleString();
            }, 1000);


            // ============================================================================
            // 2. Информация о проектах на GitHub
            // ===================================
            const githubUsername = 'kion85';
            const githubApiUrl = `https://api.github.com/users/${githubUsername}/repos`;

            async function getGithubRepos() {
                try {
                    const response = await fetch(githubApiUrl);
                    if (!response.ok) {
                        throw new Error(`GitHub API error: ${response.status} ${response.statusText}`);
                    }
                    const repos = await response.json();
                    document.getElementById('repoCount').textContent = repos.length;

                    // Опциональное отображение названий репозиториев
                    const repoList = document.querySelector('#github-repos ul');
                    if (repoList && repos.length > 0) {
                        repos.forEach(repo => {
                            const listItem = document.createElement('li');
                            const link = document.createElement('a');
                            link.href = repo.html_url;
                            link.textContent = repo.name;
                            link.target = "_blank"; // Открывать в новой вкладке
                            link.rel = "noopener noreferrer"; // Безопасность
                            listItem.appendChild(link);
                            repoList.appendChild(listItem);
                        });
                        document.getElementById('toggleReposBtn').style.display = 'block'; // Показать кнопку
                    }
                } catch (error) {
                    console.error("Ошибка при получении данных GitHub:", error);
                    document.getElementById('repoCount').textContent = `Ошибка: ${error.message}`;
                }
            }

            getGithubRepos();

            // Переключение видимости списка репозиториев
            document.getElementById('toggleReposBtn').addEventListener('click', () => {
                const githubReposDiv = document.getElementById('github-repos');
                const button = document.getElementById('toggleReposBtn');
                if (githubReposDiv.style.display === 'none') {
                    githubReposDiv.style.display = 'block';
                    button.textContent = 'Скрыть репозитории';
                } else {
                    githubReposDiv.style.display = 'none';
                    button.textContent = 'Показать репозитории';
                }
            });

            // ============================================================================
            // 3. Тематические переключатели
            // ===============================
            const body = document.body;
            const lightThemeBtn = document.getElementById('lightThemeBtn');
            const darkThemeBtn = document.getElementById('darkThemeBtn');
            const redThemeBtn = document.getElementById('redThemeBtn');

            function applyTheme(themeName) {
                body.classList.remove('theme-dark', 'theme-red'); // Удалить все темы
                if (themeName !== 'light') { // Если не светлая, добавить соответствующий класс
                    body.classList.add(`theme-${themeName}`);
                }
                localStorage.setItem('selectedTheme', themeName); // Сохранить выбор пользователя
            }

            // Загрузить сохраненную тему при старте
            const savedTheme = localStorage.getItem('selectedTheme') || 'light'; // По умолчанию светлая
            applyTheme(savedTheme);

            lightThemeBtn.addEventListener('click', () => applyTheme('light'));
            darkThemeBtn.addEventListener('click', () => applyTheme('dark'));
            redThemeBtn.addEventListener('click', () => applyTheme('red'));

            // ============================================================================
            // 4. Загрузка медиа (обои и аудио)
            // ===============================
            const wallpaperUpload = document.getElementById('wallpaperUpload');
            const audioUpload = document.getElementById('audioUpload');
            const audioPlayer = document.getElementById('audioPlayer');

            // Загрузка обоев
            wallpaperUpload.addEventListener('change', (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        document.body.style.backgroundImage = `url(${e.target.result})`;
                        document.body.style.backgroundSize = 'cover';
                        document.body.style.backgroundPosition = 'center center';
                        document.body.style.backgroundAttachment = 'fixed'; // Фиксированный фон
                        // Сохранить base64-строку в localStorage
                        localStorage.setItem('background_image', e.target.result);
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Загрузка аудио
            audioUpload.addEventListener('change', (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        audioPlayer.src = e.target.result;
                        audioPlayer.style.display = 'block'; // Показать плеер
                        audioPlayer.load(); // Перезагрузить плеер, чтобы воспроизвести новый файл
                        // Опционально: автоматически начать воспроизведение
                        // audioPlayer.play();
                        // Сохранить base64-строку в localStorage (может быть большой!)
                        localStorage.setItem('audio_file', e.target.result);
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Загрузка сохраненных медиа при старте страницы
            function loadSavedMedia() {
                const savedWallpaper = localStorage.getItem('background_image');
                if (savedWallpaper) {
                    document.body.style.backgroundImage = `url(${savedWallpaper})`;
                    document.body.style.backgroundSize = 'cover';
                    document.body.style.backgroundPosition = 'center center';
                    document.body.style.backgroundAttachment = 'fixed';
                }

                const savedAudio = localStorage.getItem('audio_file');
                if (savedAudio) {
                    audioPlayer.src = savedAudio;
                    audioPlayer.style.display = 'block';
                    audioPlayer.load();
                }
            }
            loadSavedMedia();
        });
    </script>
</body>
</html>
